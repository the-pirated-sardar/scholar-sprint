const API_KEY = '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'

const options = {
    method: "POST",
    headers: {
        Authorization: `Bearer ${API_KEY}`,
        "Content-Type": "application/json"
    },
    body: JSON.stringify({
        model: "gpt-4-1106-preview",
        messages: [{ "role": "user", "content": "summarize this:" + prompt }],
        max_tokens: 100
    })
}

async function fetchData(prompt) {
    console.log("Fetching data...");
    try {
        const response = await fetch("https://api.openai.com/v1/chat/completions", options)
        const data = await response.json()
        console.log(data)

        return data.choices[0].message.content

    } catch (error) {
        console.error('Error fetching data:', error);
    }
}

async function getSummary(item) {
    //const response = await fetchData(item[0].fullText)
    setGPTSummary("response")
}

async function getKeywords(item) {
    const response = await fetchData(item[0].fullText)
    setGPTKeywords(response)
}

export default getSummary;